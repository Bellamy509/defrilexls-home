'use client';

import { useState, useEffect } from "react";
import Link from "next/link";
import Image from "next/image";
import { Menu, X, User } from "lucide-react";
import SignInModal from '@/components/auth/sign-in-modal';

const TranslatedLogo = ({ className }: { className?: string }) => (
  <svg
    width="192"
    height="40"
    viewBox="0 0 192 40"
    xmlns="http://www.w3.org/2000/svg"
    className={className}
    aria-label="Translated logo"
  >
    <path d="M11.233 24.331C11.083 24.331 10.933 24.331 10.783 24.331C10.783 25.131 10.783 25.931 10.783 26.731C10.783 26.881 10.783 27.031 10.783 27.181C12.383 27.181 13.983 27.181 15.583 27.181C15.583 26.581 15.583 25.981 15.583 25.381C15.583 25.306 15.583 25.231 15.583 25.156C14.783 25.156 13.983 25.156 13.183 25.156C13.183 20.956 13.183 16.756 13.183 12.556C13.983 12.556 14.783 12.556 15.583 12.556C15.583 11.956 15.583 11.356 15.583 10.756C13.983 10.756 12.383 10.756 10.783 10.756C10.783 11.556 10.783 12.356 10.783 13.156C10.783 13.306 10.783 13.456 10.783 13.606C8.833 13.606 7.033 13.606 5.108 13.606C5.108 14.206 5.108 14.806 5.108 15.406C5.908 15.406 6.708 15.406 7.508 15.406C7.508 19.381 7.508 23.356 7.508 27.331C6.708 27.331 5.908 27.331 5.108 27.331C5.108 27.931 5.108 28.531 5.108 29.131C8.158 29.131 11.208 29.131 14.258 29.131C14.258 28.331 14.258 27.531 14.258 26.731C14.258 26.281 14.258 25.831 14.258 25.381C13.258 25.381 12.258 25.381 11.258 25.381C11.258 25.014 11.246 24.673 11.233 24.331Z" fill="#0055D4"></path>
    <path d="M38.384 17.818L38.384 19.167L32.234 19.167C33.284 21.042 34.334 22.917 35.384 24.792C35.834 25.542 36.284 26.292 36.734 27.042C37.334 27.042 37.934 27.042 38.534 27.042C37.859 28.167 37.184 29.292 36.509 30.417C35.984 30.417 35.459 30.417 34.934 30.417C34.484 29.667 34.034 28.917 33.584 28.167C32.459 26.167 31.334 24.167 30.209 22.167C30.059 21.867 29.909 21.567 29.759 21.267C29.759 23.242 29.759 25.217 29.759 27.192C30.359 27.192 30.959 27.192 31.559 27.192C31.559 27.792 31.559 28.392 31.559 28.992C30.359 28.992 29.159 28.992 27.959 28.992C27.959 18.067 27.959 7.142 27.959 0.000C29.159 0.000 30.359 0.000 31.559 0.000C31.559 0.600 31.559 1.200 31.559 1.800C30.959 1.800 30.359 1.800 29.759 1.800C29.759 9.392 29.759 17.067 29.759 18.542C32.634 18.542 35.509 18.542 38.384 18.542V17.818Z" fill="#F8BE00"></path>
    <path d="M43.085 1.758C43.76 1.758 44.435 1.758 45.11 1.758C45.11 10.95 45.11 20.142 45.11 29.333C45.11 29.692 45.14 30.05 45.185 30.408C45.86 30.408 46.535 30.408 47.21 30.408C47.21 20.217 47.21 10.025 47.21 0.000C45.835 0.000 44.46 0.000 43.085 0.000C43.085 0.587 43.085 1.175 43.085 1.758Z" fill="#E4353A"></path>
    <path d="M57.995 1.783L57.995 15.358C57.545 15.283 57.095 15.208 56.645 15.133C56.645 10.758 56.645 6.383 56.645 2.008C57.095 1.933 57.545 1.858 57.995 1.783ZM50.045 29.1C50.645 29.1 51.245 29.1 51.845 29.1C51.845 28.5 51.845 27.9 51.845 27.3C50.97 27.3 50.095 27.3 49.22 27.3C49.22 23.35 49.22 19.4 49.22 15.45C49.22 15.3 49.22 15.15 49.22 15.0C50.345 15.15 51.47 15.3 52.595 15.45C52.595 16.05 52.595 16.65 52.595 17.25C51.47 17.1 50.345 16.95 49.22 16.8C49.22 16.425 49.22 16.05 49.22 15.675C48.095 15.825 46.97 15.975 45.845 16.125C45.845 10.75 45.845 5.375 45.845 0C47.045 0 48.245 0 49.445 0C49.445 0.6 49.445 1.2 49.445 1.8C49.445 6.4 49.445 11.0 49.445 15.6C49.445 18.05 49.445 20.5 49.445 22.95C48.745 22.875 48.045 22.8 47.345 22.725C47.345 22.125 47.345 21.525 47.345 20.925C48.045 20.925 48.745 20.925 49.445 20.925C49.445 19.3 49.445 17.675 49.445 16.05C50.845 15.825 52.245 15.6 53.645 15.375C53.72 17.75 53.795 20.125 53.87 22.5C54.47 22.425 55.07 22.35 55.67 22.275C55.745 20.033 55.82 17.792 55.895 15.55C56.945 15.375 57.995 15.2 59.045 15.025C59.045 15.625 59.045 16.225 59.045 16.825C57.995 17.05 56.945 17.275 55.895 17.5C55.82 19.85 55.745 22.2 55.67 24.55L55.595 27.3L55.52 30.05C54.32 30.2 53.12 30.35 51.92 30.5C51.92 29.9 51.92 29.725 51.92 29.1C53.12 28.95 54.32 28.8 55.52 28.65L55.595 27.3L55.67 25.95C54.97 26.025 54.27 26.1 53.57 26.175C53.57 27.225 53.57 28.275 53.57 29.325C52.67 29.475 51.77 29.625 50.87 29.775L50.72 29.775L50.045 29.1Z" fill="#0055D4"></path>
    <path d="M68.513 14.59C69.413 15.94 70.313 17.29 71.213 18.64C71.363 18.865 71.513 19.09 71.663 19.315C71.513 19.24 71.363 19.165 71.213 19.09C69.938 17.44 68.663 15.79 67.388 14.14C66.113 15.79 64.838 17.44 63.563 19.09C63.413 19.165 63.263 19.24 63.113 19.315C63.263 19.09 63.413 18.865 63.563 18.64C64.463 17.29 65.363 15.94 66.263 14.59C65.363 13.24 64.463 11.89 63.563 10.54C63.413 10.315 63.263 10.09 63.113 9.865C63.263 9.94 63.413 10.015 63.563 10.09C64.838 11.74 66.113 13.39 67.388 15.04C68.663 13.39 69.938 11.74 71.213 10.09C71.363 10.015 71.513 9.94 71.663 9.865C71.513 10.09 71.363 10.315 71.213 10.54C70.313 11.89 69.413 13.24 68.513 14.59Z" fill="#46A45E"></path>
    <path d="M79.919 14.615C79.919 13.94 79.919 13.265 79.919 12.59C80.594 12.59 81.269 12.59 81.944 12.59C81.944 13.04 81.944 13.49 81.944 13.94C81.269 13.94 80.594 13.94 79.919 13.94C79.919 14.165 79.919 14.39 79.919 14.615ZM81.944 15.265C81.944 15.715 81.944 16.165 81.944 16.615C81.269 16.615 80.594 16.615 79.919 16.615C79.919 15.965 79.919 15.629 79.919 15.265C80.594 15.265 81.269 15.265 81.944 15.265Z" fill="#F8BE00"></path>
    <path d="M96.417 19.348C94.742 19.348 93.067 19.348 91.392 19.348C91.342 17.573 91.292 15.798 91.242 14.023C91.192 12.248 91.142 10.473 91.092 8.698C91.767 8.698 92.442 8.698 93.117 8.698C93.117 9.298 93.117 9.898 93.117 10.498C92.442 10.498 91.767 10.498 91.092 10.498C91.092 10.573 91.092 10.648 91.092 10.723C91.092 11.248 91.092 12.398 91.092 12.848C92.167 12.848 93.242 12.848 94.317 12.848C94.317 13.448 94.317 14.048 94.317 14.648C93.242 14.648 92.167 14.648 91.092 14.648C91.142 16.223 91.192 17.798 91.242 19.373C91.842 19.373 92.442 19.373 93.042 19.373C93.042 12.873 93.042 6.373 93.042 0.023C94.717 0.023 96.392 0.023 98.067 0.023C98.067 0.623 98.067 1.223 98.067 1.823C97.392 1.823 96.717 1.823 96.042 1.823C96.042 6.398 96.042 10.973 96.042 15.548C96.967 15.548 97.892 15.548 98.817 15.548C98.817 16.148 98.817 16.748 98.817 17.348C97.892 17.348 96.967 17.348 96.042 17.348C96.042 17.973 96.042 18.598 96.042 19.223C96.167 19.273 96.292 19.323 96.417 19.348ZM85.517 7.023C85.517 6.423 85.517 5.823 85.517 5.223C87.192 5.223 88.867 5.223 90.542 5.223C90.542 5.823 90.542 6.423 90.542 7.023C88.867 7.023 87.192 7.023 85.517 7.023Z" fill="#E4353A"></path>
    <path d="M110.158 29.131C110.758 29.131 111.358 29.131 111.958 29.131C111.958 28.531 111.958 27.931 111.958 27.331C111.358 27.331 110.758 27.331 110.158 27.331C110.158 18.006 110.158 8.681 110.158 0.006C110.158 0.006 110.158 0.006 110.158 0.006C108.958 0.006 107.758 0.006 106.558 0.006C106.558 0.606 106.558 1.206 106.558 1.806C107.158 1.806 107.758 1.806 108.358 1.806C108.358 9.906 108.358 18.006 108.358 26.106C108.358 26.406 108.358 26.706 108.358 27.006C107.758 27.006 107.158 27.006 106.558 27.006C106.558 27.606 106.558 28.206 106.558 28.806C107.417 28.806 108.275 28.806 109.133 28.806C109.475 28.806 109.817 28.806 110.158 28.806V29.131Z" fill="#0055D4"></path>
    <path d="M125.702 24.331C125.552 24.331 125.402 24.331 125.252 24.331C125.252 25.131 125.252 25.931 125.252 26.731C125.252 26.881 125.252 27.031 125.252 27.181C126.852 27.181 128.452 27.181 130.052 27.181C130.052 26.581 130.052 25.981 130.052 25.381C130.052 25.306 130.052 25.231 130.052 25.156C129.252 25.156 128.452 25.156 127.652 25.156C127.652 20.956 127.652 16.756 127.652 12.556C128.452 12.556 129.252 12.556 130.052 12.556C130.052 11.956 130.052 11.356 130.052 10.756C128.452 10.756 126.852 10.756 125.252 10.756C125.252 11.556 125.252 12.356 125.252 13.156C125.252 13.306 125.252 13.456 125.252 13.606C123.302 13.606 121.502 13.606 119.577 13.606C119.577 14.206 119.577 14.806 119.577 15.406C120.377 15.406 121.177 15.406 121.977 15.406C121.977 19.381 121.977 23.356 121.977 27.331C121.177 27.331 120.377 27.331 119.577 27.331C119.577 27.931 119.577 28.531 119.577 29.131C122.627 29.131 125.677 29.131 128.727 29.131C128.727 28.331 128.727 27.531 128.727 26.731C128.727 26.281 128.727 25.831 128.727 25.381C127.727 25.381 126.727 25.381 125.727 25.381C125.727 25.014 125.715 24.673 125.702 24.331Z" fill="#46A45E"></path>
    <path d="M135.488 29.123C136.088 29.123 136.688 29.123 137.288 29.123C137.288 28.523 137.288 27.923 137.288 27.323C135.538 27.323 133.788 27.323 132.038 27.323C132.038 26.723 132.038 26.123 132.038 25.523C132.638 25.523 133.238 25.523 133.838 25.523C133.913 22.823 133.988 20.123 134.063 17.423C134.138 14.723 134.213 12.023 134.288 9.323C134.888 9.323 135.488 9.323 136.088 9.323C136.088 8.723 136.088 8.123 136.088 7.523C134.888 7.523 133.688 7.523 132.488 7.523C132.413 14.723 132.338 21.923 132.263 29.123C133.338 29.123 134.413 29.123 135.488 29.123Z" fill="#E4353A"></path>
    <path d="M152.015 29.131L153.215 29.131C153.14 29.481 152.84 29.831 152.465 29.981C152.165 30.131 151.79 30.131 151.49 30.131C150.29 30.131 149.09 30.131 147.89 30.131C147.89 29.531 147.89 28.931 147.89 28.331C148.49 28.331 149.09 28.331 149.69 28.331C149.69 23.381 149.69 18.431 149.69 13.481C149.09 13.481 148.49 13.481 147.89 13.481C147.89 12.881 147.89 12.281 147.89 11.681C149.64 11.681 151.39 11.681 153.14 11.681C153.14 12.281 153.14 12.881 153.14 13.481C152.54 13.481 151.94 13.481 151.34 13.481C151.34 18.031 151.34 22.581 151.34 27.131C151.715 27.731 152.09 28.331 152.465 28.931C152.315 29.006 152.165 29.081 152.015 29.131Z" fill="#F8BE00"></path>
    <path d="M189.601 10.767C190.276 10.767 190.951 10.767 191.626 10.767C191.626 11.367 191.626 11.967 191.626 12.567C190.951 12.567 190.276 12.567 189.601 12.567C189.601 17.617 189.601 22.667 189.601 27.717C188.801 27.717 188.001 27.717 187.201 27.717C187.201 28.317 187.201 28.917 187.201 29.517C188.676 29.517 190.151 29.517 191.626 29.517C191.626 22.667 191.626 15.817 191.626 8.967C191.626 8.892 191.626 8.817 191.626 8.742C188.201 8.742 184.776 8.742 181.351 8.742C181.351 8.142 181.351 7.542 181.351 6.942C184.776 6.942 188.201 6.942 191.626 6.942C191.626 4.642 191.626 2.342 191.626 0.042C190.276 0.042 188.926 0.042 187.576 0.042C187.576 1.767 187.426 6.367 185.001 6.142C184.251 6.067 183.276 5.892 182.601 5.317C182.251 4.967 181.901 4.617 181.551 4.267C182.151 3.517 182.751 2.767 183.351 2.017C182.601 2.017 181.851 2.017 181.101 2.017C180.126 3.292 179.151 4.567 178.176 5.842C177.351 5.467 176.526 5.092 175.701 4.717C176.626 3.367 177.551 2.017 178.476 0.667C177.876 0.667 177.276 0.667 176.676 0.667C175.326 2.542 173.976 4.417 172.626 6.292C172.626 8.667 172.626 11.042 172.626 13.417C173.226 13.417 173.826 13.417 174.426 13.417C174.426 12.817 174.426 12.217 174.426 11.617C173.826 11.617 173.226 11.617 172.626 11.617C172.626 11.542 172.626 11.467 172.626 11.392C172.626 11.167 172.626 10.942 172.626 10.717C174.126 10.567 175.626 10.417 177.126 10.267C177.276 11.892 177.426 13.517 177.576 15.142L179.326 15.142C179.326 13.267 179.326 11.392 179.326 9.517C179.326 9.142 179.326 8.767 179.326 8.392C180.226 8.542 181.126 8.692 182.026 8.842C182.951 10.367 183.876 11.892 184.801 13.417C185.401 13.417 186.001 13.417 186.601 13.417C185.551 11.542 184.501 9.667 183.451 7.792C183.826 7.942 184.201 8.092 184.576 8.242C185.551 8.242 186.901 8.417 187.576 9.142C188.026 9.642 188.251 10.367 188.326 11.017C188.401 11.667 188.401 12.317 188.401 12.967C188.751 12.967 189.101 12.967 189.451 12.967L189.601 10.767Z" fill="#0055D4"></path>
    <ellipse cx="166.536" cy="14.506" rx="4.825" ry="4.85" fill="#E4353A"></ellipse>
  </svg>
);

export default function Header() {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [isScrolled, setIsScrolled] = useState(false);
  const [isSignInModalOpen, setIsSignInModalOpen] = useState(false);

  useEffect(() => {
    const handleScroll = () => {
      setIsScrolled(window.scrollY > 10);
    };
    window.addEventListener("scroll", handleScroll);
    return () => {
      window.removeEventListener("scroll", handleScroll);
    };
  }, []);

  return (
    <>
      <header className={`sticky top-0 z-50 w-full bg-white transition-shadow duration-300 ${isScrolled ? 'shadow-md' : ''}`}>
        <div className="container mx-auto flex h-20 items-center justify-between px-4 lg:px-0">
          <Link href="/" className="flex items-center">
            <Image 
              src="https://slelguoygbfzlpylpxfs.supabase.co/storage/v1/render/image/public/document-uploads/WhatsApp_Image_2025-08-21_at_10.27.55_PM-removebg-preview-1762985726010.png?width=8000&height=8000&resize=contain"
              alt="Defrilex Logo"
              width={160}
              height={40}
              className="h-8 w-auto md:h-10"
              priority
            />
          </Link>

          <nav className="hidden lg:flex items-center gap-x-6">
            <Link href="/find-talent" className="text-base font-normal text-foreground/90 hover:text-primary">
              Find Talent
            </Link>
            <Link href="/find-jobs" className="text-base font-normal text-foreground/90 hover:text-primary">
              Find Jobs
            </Link>
            <Link href="/resources" className="text-base font-normal text-foreground/90 hover:text-primary">
              Resources
            </Link>
            <button
              onClick={() => setIsSignInModalOpen(true)}
              className="flex items-center text-base font-normal text-foreground/90 hover:text-primary transition-colors"
            >
              <User className="mr-1 h-5 w-5" />
              Sign in
            </button>
            <Link
              href="/auth/sign-up"
              className="inline-flex items-center justify-center whitespace-nowrap rounded-[4px] text-base font-semibold h-10 px-6 bg-primary text-primary-foreground hover:bg-primary/90 transition-colors"
            >
              Sign Up
            </Link>
            <Link
              href="/contact"
              className="inline-flex items-center justify-center whitespace-nowrap rounded-[4px] text-base font-semibold h-10 px-6 border-2 border-primary text-primary bg-white hover:bg-accent transition-colors"
            >
              Contact us
            </Link>
          </nav>

          <button 
            className="lg:hidden" 
            onClick={() => setIsMenuOpen(!isMenuOpen)} 
            aria-label="Toggle menu"
            aria-expanded={isMenuOpen}
          >
            {isMenuOpen ? <X className="h-6 w-6 text-foreground" /> : <Menu className="h-6 w-6 text-foreground" />}
          </button>
        </div>

        {isMenuOpen && (
          <div className="lg:hidden absolute w-full bg-white shadow-lg animate-accordion-down">
            <nav className="container mx-auto flex flex-col gap-y-1 p-4">
              <Link href="/find-talent" className="block rounded-md py-2 px-3 text-base font-medium text-foreground hover:bg-accent hover:text-primary">
                Find Talent
              </Link>
              <Link href="/find-jobs" className="block rounded-md py-2 px-3 text-base font-medium text-foreground hover:bg-accent hover:text-primary">
                Find Jobs
              </Link>
              <Link href="/resources" className="block rounded-md py-2 px-3 text-base font-medium text-foreground hover:bg-accent hover:text-primary">
                Resources
              </Link>
              <div className="border-t my-2"></div>
              <button
                onClick={() => {
                  setIsSignInModalOpen(true);
                  setIsMenuOpen(false);
                }}
                className="flex items-center rounded-md py-2 px-3 text-base font-medium text-foreground hover:bg-accent hover:text-primary w-full"
              >
                <User className="mr-2 h-5 w-5" />
                Sign in
              </button>
              <Link 
                href="/auth/sign-up" 
                className="mt-4 w-full inline-flex items-center justify-center whitespace-nowrap rounded-[4px] text-base font-semibold h-10 px-6 bg-primary text-primary-foreground hover:bg-primary/90 transition-colors"
              >
                Sign Up
              </Link>
              <Link 
                href="/contact" 
                className="mt-2 w-full inline-flex items-center justify-center whitespace-nowrap rounded-[4px] text-base font-semibold h-10 px-6 border-2 border-primary text-primary bg-white hover:bg-accent transition-colors"
              >
                Contact us
              </Link>
            </nav>
          </div>
        )}
      </header>

      <SignInModal 
        isOpen={isSignInModalOpen} 
        onClose={() => setIsSignInModalOpen(false)} 
      />
    </>
  );
}